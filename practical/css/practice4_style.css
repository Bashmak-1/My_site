:root {
    /* Кольори в стилі Hator (Dark Gaming) */
    --case-bg: #111;         /* Колір корпусу */
    --key-bg: #222;          /* Колір клавіші */
    --key-border: #444;      /* Рамка клавіші */
    --text-color: #eee;      /* Колір літер */
    --accent-color: #ff3333; /* Акцент при наведенні */
    
    /* === РОЗМІРИ === */
    --key-base: 50px;     /* Базовий розмір квадратної кнопки 1u */
    --gap-size: 6px;      /* Відстань між кнопками */
    
    /* Відступи між великими секціями */
    --section-gap: 20px;  
}

body {
    background-color: #333; /* Фон самої сторінки */
    display: flex;
    flex-direction: column; /* Вертикально: Клавіатура зверху, фото знизу */
    align-items: center;
    min-height: 100vh;
    margin: 0;
    font-family: 'Roboto Mono', monospace;
    padding: 50px 0;
}

/* === КОРПУС КЛАВІАТУРИ === */
.keyboard-case {
    background-color: var(--case-bg);
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    border-bottom: 8px solid #000; /* Ефект товщини корпусу */
    
    display: flex;
    gap: var(--section-gap);
    /* Видаляємо background-image та фіксовані розміри, хай CSS сам рахує */
}

/* === СТИЛЬ КНОПКИ === */
.key {
    background-color: var(--key-bg);
    border: 1px solid var(--key-border);
    border-radius: 6px;
    color: var(--text-color);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 4px 0 #000; /* 3D ефект кнопки */
    transition: all 0.1s ease;
    
    /* Важливо: висота кнопки */
    height: var(--key-base);
}

/* Ефект натискання */
.key:active {
    transform: translateY(4px); /* Кнопка йде вниз */
    box-shadow: 0 0 0 #000;     /* Тінь зникає */
    border-color: var(--accent-color);
    color: var(--accent-color);
}

/* =========================================
   1. ЛІВА КОЛОНКА
   ========================================= */
.column-left {
    display: flex;
    flex-direction: column;
    gap: var(--gap-size);
}

/* F-ряд */
.section-f-keys {
    display: flex;
    gap: var(--gap-size);
    margin-bottom: 25px; /* Відступ від F-ряда до цифр */
}

.key-esc { width: var(--key-base); }
.f-gap { width: var(--key-base); } /* Відступ між Esc і F1 (приблизно 1u) */

.f-block {
    display: flex;
    gap: var(--gap-size);
    margin-right: calc(var(--key-base) * 0.5); /* Пів кнопки відступу між блоками F */
}
.f-block .key { width: var(--key-base); }


/* ОСНОВНИЙ БЛОК (СІТКА 60) */
.section-main {
    display: grid;
    /* 60 частин = 15 кнопок * 4 частини */
    grid-template-columns: repeat(60, 1fr); 
    grid-template-rows: repeat(5, var(--key-base));
    gap: var(--gap-size);
    
    /* Ширина основного блоку: 15 кнопок * 50px + відступи */
    width: calc((15 * var(--key-base)) + (14 * var(--gap-size)));
}

/* Grid spans (Тут все було вірно, залишаємо) */
.section-main .key { grid-column: span 4; }
.key-backspace { grid-column: span 8 !important; }
.key-tab       { grid-column: span 6 !important; }
.key-slash     { grid-column: span 6 !important; }
.key-caps      { grid-column: span 7 !important; }
.key-enter     { grid-column: span 9 !important; }
.key-lshift    { grid-column: span 9 !important; }
.key-rshift    { grid-column: span 11 !important; }
.key-lctrl    { grid-column: span 5 !important; }
.key-rctrl    { grid-column: span 5 !important; }
.key-win, .key-alt, .key-fn, .key-ctx { grid-column: span 5 !important; } /* Трохи змінив, щоб влізло рівно */
.key-space { grid-column: span 25 !important; }


/* =========================================
   2. СЕРЕДНЯ КОЛОНКА
   ========================================= */
.column-middle {
    display: flex;
    flex-direction: column;
    width: calc(3 * var(--key-base) + 2 * var(--gap-size));
}

.section-system {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, var(--key-base));
    gap: var(--gap-size);
    margin-bottom: 42px; /* Підганяємо відступ, щоб стрілки були внизу */
}
/* Опускаємо System блок нижче, щоб він був на рівні з Main блоком, а не з F-рядом */
.section-system {
    margin-top: calc(var(--key-base) + 25px + var(--gap-size)); 
}

.section-arrows {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(2, var(--key-base));
    gap: var(--gap-size);
    margin-top: auto; /* Притискаємо до низу */
}
.empty { visibility: hidden; }


/* =========================================
   3. ПРАВА КОЛОНКА (Нампад)
   ========================================= */
.column-right {
    display: flex;
    flex-direction: column;
    width: calc(4 * var(--key-base) + 3 * var(--gap-size));
}

.numpad-gap {
    /* Відступ зверху, щоб вирівняти нампад з основним блоком */
    height: calc(var(--key-base) + 25px + var(--gap-size));
    margin-bottom: 0;
}

.section-numpad {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(5, var(--key-base));
    gap: var(--gap-size);
}

.key-plus { grid-row: span 2; height: auto; } /* auto щоб розтягнувся на 2 ряди + gap */
.key-enter-num { grid-row: span 2; height: auto; }
.key-zero { grid-column: span 2; }


/* =========================================
   БЛОК ФОТО (РЕФЕРЕНС)
   ========================================= */
.reference-container {
    margin-top: 50px;
    text-align: center;
    color: white;
}

.reference-container img {
    max-width: 1200px;
    width: 100%;
    border-radius: 10px;
    border: 2px solid #555;
    opacity: 0.7;
}